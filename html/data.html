<!DOCTYPE html>
<html>
<head>
  <title>PAM - Data Trends</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #F5F5DC;
      color: #2F4F2F;
    }
    nav {
      width: 100%;
      background: #9CAF88;
      padding: 1rem 0;
      position: relative;
    }
    .logo {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      height: 200px;
    }
       nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            gap: 2rem;
        }

        nav a {
            color: #F5F5DC;
            text-decoration: none;
            padding: 0.5rem 1rem;
        }

        nav a:hover {
            background: #7A8471;
        }
    h1 {
      text-align: center;
      margin: 2rem 0;
      color: #2F4F2F;
    }
    .intro-panel {
      background: #9CAF88;
      color: #F5F5DC;
      padding: 2rem;
      margin: 2rem 0;
      border-radius: 10px;
      width: 80%;
      max-width: 800px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
    }
    .intro-panel:hover {
      background: #7A8471;
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    }
    .intro-panel h2 {
      font-size: 2.5rem;
      margin: 0 0 1rem 0;
      color: #F5F5DC;
    }
    .intro-panel p {
      font-size: 1.2rem;
      margin: 0;
    }
    .chart-container {
      width: 80%;
      max-width: 960px;
      margin: 2rem 0;
      background: white;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
<nav>
    <img src="../assets/pam.png" alt="PAM Logo" class="logo">
    <ul>
        <li><a href="main.html">Home</a></li>
        <li><a href="types.html">Pollen Types</a></li>
        <li><a href="index.html">Pollen Map</a></li>
        <li><a href="ndvi.html">Forecast</a></li>
        <li><a href="about.html">About</a></li>
    </ul>
</nav>
  
  <h1>Data Trends</h1>
  
  <div class="intro-panel">
    <h2>Pollen Data Analytics</h2>
    <p>Explore historical pollen data trends and seasonal patterns to better understand pollen forecasts.</p>
  </div>
  
  <div class="chart-container" id="chart-container">
    <!-- D3 chart will be injected here -->
  </div>

  <!-- D3.js Library -->
  <script src="https://d3js.org/d3.v7.min.js"></script>

 Here’s the complete example using your chart code, with the addition of loading the data:

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unemployment Rate Histogram</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f4;
        }

        svg {
            display: block;
            margin: 0 auto;
        }
    </style>
</head>
<body>

<script>
    // Function to load and process data from an external JSON file
    async function loadData() {
        const unemployment = await d3.json("unemployment.json"); // replace with your actual JSON file URL

        return unemployment.map(d => d.rate); // Assuming 'rate' is the unemployment rate in the data
    }

    // Chart code
    const chart = (unemployment) => {
        const width = 960;
        const height = 500;
        const marginTop = 20;
        const marginRight = 20;
        const marginBottom = 30;
        const marginLeft = 40;

        // Bin the data
        const bins = d3.bin()
            .thresholds(40)
            .value((d) => d)
        (unemployment);

        // Declare the x (horizontal position) scale
        const x = d3.scaleLinear()
            .domain([bins[0].x0, bins[bins.length - 1].x1])
            .range([marginLeft, width - marginRight]);

        // Declare the y (vertical position) scale
        const y = d3.scaleLinear()
            .domain([0, d3.max(bins, (d) => d.length)])
            .range([height - marginBottom, marginTop]);

        // Create the SVG container
        const svg = d3.create("svg")
            .attr("width", width)
            .attr("height", height)
            .attr("viewBox", [0, 0, width, height])
            .attr("style", "max-width: 100%; height: auto;");

        // Add a rect for each bin
        svg.append("g")
            .attr("fill", "steelblue")
        .selectAll()
        .data(bins)
        .join("rect")
            .attr("x", (d) => x(d.x0) + 1)
            .attr("width", (d) => x(d.x1) - x(d.x0) - 1)
            .attr("y", (d) => y(d.length))
            .attr("height", (d) => y(0) - y(d.length));

        // Add the x-axis and label
        svg.append("g")
            .attr("transform", `translate(0,${height - marginBottom})`)
            .call(d3.axisBottom(x).ticks(width / 80).tickSizeOuter(0))
            .call((g) => g.append("text")
                .attr("x", width)
                .attr("y", marginBottom - 4)
                .attr("fill", "currentColor")
                .attr("text-anchor", "end")
                .text("Unemployment rate (%) →"));

        // Add the y-axis and label, and remove the domain line
        svg.append("g")
            .attr("transform", `translate(${marginLeft},0)`)
            .call(d3.axisLeft(y).ticks(height / 40))
            .call((g) => g.select(".domain").remove())
            .call((g) => g.append("text")
                .attr("x", -marginLeft)
                .attr("y", 10)
                .attr("fill", "currentColor")
                .attr("text-anchor", "start")
                .text("↑ Frequency (no. of counties)"));

        // Return the SVG element
        return svg.node();
    };

    // Load data and create chart
    loadData().then(unemployment => {
        const chartNode = chart(unemployment); // Generate the chart with the data
        document.body.appendChild(chartNode);  // Append the chart to the body
    });
</script>
</body>
</html>
